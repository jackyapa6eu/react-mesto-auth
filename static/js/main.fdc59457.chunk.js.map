{"version":3,"sources":["contexts/CurrentUserContext.js","images/header__logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/HaveAccount.js","components/User.js","components/ProtectedRoute.js","utils/AuthApi.js","utils/userTexts.js","components/InfoTooltip.js","images/success-registration.svg","images/error-registration.svg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","isLoggedIn","setIsLoggedIn","userEmail","setUserEmail","useState","isBurgerOpened","setIsBurgerOpened","location","useLocation","history","useHistory","burgerMenuSelectors","classNames","userContainerMobileSelectors","signOut","localStorage","removeItem","push","className","onClick","src","headerLogo","alt","pathname","to","Card","props","currentUser","useContext","isMyOwn","card","owner","_id","isLikedByMe","likes","some","like","likeButtonClassNames","onCardDelete","link","name","onCardClick","onFullImage","onLikeClick","width","height","viewBox","fill","xmlns","d","stroke","length","Main","cards","onAddPlace","onCardLike","onEditAvatar","onEditProfile","avatar","type","about","map","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","onSubmit","title","children","popupSelector","noValidate","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","event","preventDefault","onChange","target","value","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","placeholder","AddPlacePopup","setNewPlaceLink","ImagePopup","api","baseUrl","headers","this","_headers","_baseUrl","_fetcher","newUserData","cardId","newAvatar","path","method","body","options","JSON","stringify","fetch","then","res","ok","json","Promise","reject","Error","status","authorization","Title","SignIn","texts","handleSubmit","email","setEmail","password","setPassword","buttonSelectors","userSelectors","buttonText","HaveAccount","ProtectedRoute","Component","component","authApi","token","userData","signInTexts","signUpTexts","InfoTooltip","text","img","isOpened","InfoTooltipSelectors","App","isEditProfilePopupOpen","toggleEditProfilePopup","isAddPlacePopupOpen","toggleAddPlacePopup","isEditAvatarPopupOpen","toggleEditAvatarPopup","isImagePopupOpen","toggleImagePopup","selectedCard","setCard","setCurrentUser","setCardsArr","isSuccessRegistration","setIsSuccessRegistration","isErrorRegistration","setIsErrorRegistration","updateCards","upDatedCard","newCards","closeAllPopups","getUserData","data","catch","err","console","log","all","getInitialCards","initData","jwt","getItem","getJwtFromLocal","Provider","User","createUser","isSuccess","signInUser","setItem","unLikeCard","unLikedCard","likeCard","likedCard","cardForDelete","deleteCard","filter","newPlaceData","uploadNewCard","addedCard","updateUserData","userInfo","newAvatarLink","updateAvatar","successRegistrationImg","errorRegistrationImg","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fdc59457.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header__logo.svg';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\n\r\nfunction Header({isLoggedIn, setIsLoggedIn, userEmail, setUserEmail}) {\r\n  const [isBurgerOpened, setIsBurgerOpened] = React.useState(false);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const burgerMenuSelectors = classNames(\r\n    'header__burger-menu',\r\n    {\r\n      'header__burger-menu_opened': isBurgerOpened\r\n    }\r\n  )\r\n\r\n  const userContainerMobileSelectors = classNames(\r\n    'header__user-container',\r\n    'header__user-container_mobile',\r\n    {\r\n      'header__user-container_opened': isBurgerOpened\r\n    }\r\n  )\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('jwt');\r\n    setIsLoggedIn(false);\r\n    setUserEmail('');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function toggleBurgerMenu() {\r\n    setIsBurgerOpened(!isBurgerOpened);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      {isLoggedIn && \r\n        <div className={userContainerMobileSelectors}>\r\n          <span className=\"header__email\">{userEmail}</span>\r\n          <button className=\"header__button\" onClick={signOut}>Выход</button>\r\n        </div>\r\n      }\r\n      <div className=\"header__container\">\r\n        <img className=\"logo\" src={headerLogo} alt=\"логотип Mesto\"/>\r\n        {location.pathname === '/sign-up' && <Link className=\"header__link\" to='/sign-in'>Войти</Link>}\r\n        {location.pathname === '/sign-in' && <Link className=\"header__link\" to='/sign-up'>зарегистрироваться</Link>}\r\n        {isLoggedIn && \r\n          <div className=\"header__user-container\">\r\n            <span className=\"header__email\">{userEmail}</span>\r\n            <button className=\"header__button\" onClick={signOut}>Выход</button>\r\n          </div>\r\n        }\r\n        {isLoggedIn &&\r\n          <div className={burgerMenuSelectors} onClick={toggleBurgerMenu}/>\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport classNames from 'classnames'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isMyOwn = props.card.owner._id === currentUser._id;\r\n  const isLikedByMe = props.card.likes.some(like => like._id === currentUser._id);\r\n  const likeButtonClassNames = classNames('place__like-button', {\r\n    'place__like-button_active': isLikedByMe\r\n  })\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n    props.onFullImage(true);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onLikeClick(props.card);\r\n  }\r\n  function handleDeleteCard() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <article className=\"place\" key={props.card._id}>\r\n      {isMyOwn && <button className=\"place__remove-btn\" onClick={handleDeleteCard}/>}\r\n      <img className=\"place__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick}/>\r\n      <div className=\"place__description\">\r\n        <h2 className=\"place__title\">{props.card.name}</h2> \r\n        <div className=\"place__like\">\r\n          <svg className={likeButtonClassNames} onClick={handleLikeClick} width=\"21\" height=\"19\" viewBox=\"0 0 21 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18.8005 1.95849L18.8023 1.96024C20.7437 3.88233 20.7462 7.03905 18.8005 8.98466L10.361 17.4238L1.94628 9.00951C1.94569 9.00892 1.94511 9.00832 1.94453 9.00772C1.0188 8.06185 0.5 6.81051 0.5 5.48217C0.5 4.14855 1.00122 2.89987 1.94265 1.95849L1.94266 1.95849L1.94441 1.95672C3.86629 0.0157068 7.02186 0.0131363 8.96748 1.97793L8.96922 1.97967L10.0074 3.01784L10.3646 3.37496L10.7181 3.01425L11.7545 1.95673C13.6994 0.0138381 16.8563 0.014425 18.8005 1.95849Z\" stroke=\"black\"/>\r\n          </svg>\r\n          <span className=\"place__like-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n  </article>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const {cards, onAddPlace, onCardClick, onCardDelete, onCardLike, onEditAvatar, onEditProfile, onFullImage} = props;\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\" onClick={onEditAvatar}>\r\n          <div className=\"profile__overlay\"/>\r\n          <img className=\"profile__avatar-image\" src={currentUser.avatar} alt=\"Изображение профиля\"/>\r\n        </div>\r\n        <div className=\"profile__info\"> \r\n          <h1 className=\"profile__display-name\">{currentUser.name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}/>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}/>\r\n      </section>\r\n      <section className=\"places\">\r\n        {cards.map((card) => (<Card \r\n          card={card} \r\n          key={card._id} \r\n          onCardClick={onCardClick} \r\n          onCardDelete={onCardDelete}\r\n          onFullImage={onFullImage} \r\n          onLikeClick={onCardLike}/>\r\n          ))}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react'\r\n\r\nfunction Footer() {\r\n  function getCurrentYear() {\r\n    return (new Date()).getFullYear()\r\n  }\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">{`\\u00A9 ${getCurrentYear()} Mesto Russia`}</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import classNames from 'classnames'\r\n\r\nfunction PopupWithForm({isOpen, name, onClose, onSubmit, title, children}) {\r\n  const popupSelector = classNames('popup', `popup_type_${name}`, {\r\n    'popup_opened': isOpen\r\n  })\r\n  return (\r\n    <div className={popupSelector}>\r\n      <form className={`popup__form popup__form_type_${name}`} name={name} onSubmit={onSubmit} noValidate>\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}/>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        {children}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameInput(event) {\r\n    setName(event.target.value);\r\n  }\r\n  function handleDescriptionInput(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"editprofile\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input \r\n        type=\"text\" \r\n        name=\"name\" \r\n        className=\"popup__input popup__input_type_display-name\" \r\n        onChange={handleNameInput} \r\n        value={name || ''}\r\n        id=\"profile-display-name-input\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"40\"/>\r\n      <span className='popup__error popup__error_visible' id=\"profile-display-name-input-error\"/>\r\n      <input \r\n        type=\"text\" \r\n        name=\"about\" \r\n        className=\"popup__input popup__input_type_profession\" \r\n        onChange={handleDescriptionInput} \r\n        value={description || ''}\r\n        id=\"profile-profession-input\" \r\n        required \r\n        minLength=\"2\" \r\n        maxLength=\"200\"/>\r\n      <span className='popup__error popup__error_visible' id=\"profile-profession-input-error\"/>\r\n    <button type=\"submit\" className=\"popup__button\">Сохранить</button> \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const inputRef = React.useRef();\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const avatar = {\r\n      [inputRef.current.name] :inputRef.current.value\r\n    }\r\n    onUpdateAvatar(avatar);\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"editavatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose}  onSubmit={handleSubmit}>\r\n      <input \r\n        type=\"url\" \r\n        name=\"avatar\" \r\n        ref={inputRef} \r\n        className=\"popup__input popup__input_type_avatar\" \r\n        id=\"profile-avatar-input\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        required\r\n      />\r\n      <span className='popup__error popup__error_visible' id=\"profile-avatar-input-error\"/>\r\n      <button type=\"submit\" className=\"popup__button\">Сохранить</button>  \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({isOpen, onAddPlace, onClose}) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setNewPlaceLink] = React.useState('');\r\n  function handleNameInput(event) {\r\n    setName(event.target.value);\r\n  }\r\n  function handleLinkInput(event) {\r\n    setNewPlaceLink(event.target.value);\r\n  }\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"addplace\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input type=\"text\" \r\n      name=\"name\" \r\n      className=\"popup__input popup__input_type_place-name\" \r\n      onChange={handleNameInput}\r\n      value={name}\r\n      id=\"place-name-input\" \r\n      placeholder=\"Название\" \r\n      required \r\n      minLength=\"2\" \r\n      maxLength=\"30\"\r\n      />\r\n      <span className='popup__error popup__error_visible' id=\"place-name-input-error\"/>\r\n      <input type=\"url\" \r\n      name=\"link\" \r\n      className=\"popup__input popup__input_type_place-link\" \r\n      onChange={handleLinkInput}\r\n      value={link}\r\n      id=\"place-link-input\" \r\n      placeholder=\"Ссылка на картинку\" \r\n      required \r\n      />\r\n      <span className='popup__error popup__error_visible' id=\"place-link-input-error\"/>\r\n      <button type=\"submit\" className=\"popup__button\">Создать</button>  \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\nfunction ImagePopup({card, isOpen, onClose}) {\r\n  const popupSelector = classNames('popup', 'popup_type_figure', {\r\n    'popup_opened': isOpen\r\n  })\r\n  return (\r\n    <div className={popupSelector}>\r\n      <figure className=\"popup__figure\">\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}/>\r\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n        <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._headers = headers;\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetcher(\"/cards\", \"GET\");\r\n  }\r\n\r\n  getUserData() {\r\n    return this._fetcher(\"/users/me\", \"GET\");\r\n  }\r\n\r\n  updateUserData(newUserData) {\r\n    return this._fetcher(\"/users/me\", \"PATCH\", newUserData);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return this._fetcher(`/cards/likes/${cardId}`, \"PUT\");\r\n  }\r\n\r\n  unLikeCard(cardId) {\r\n    return this._fetcher(`/cards/likes/${cardId}`, \"DELETE\");\r\n  }\r\n\r\n  uploadNewCard(card) {\r\n    return this._fetcher(\"/cards\", \"POST\", card);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._fetcher(`/cards/${cardId}`, \"DELETE\");\r\n  }\r\n\r\n  updateAvatar(newAvatar) {\r\n    return this._fetcher(\"/users/me/avatar\", \"PATCH\", newAvatar);\r\n  }\r\n\r\n  _fetcher(path, method, body) {\r\n    const options = {\r\n      method: method,\r\n      headers: this._headers,\r\n    };\r\n    if (body) {\r\n      options.body = JSON.stringify(body);\r\n    }\r\n    return fetch(`${this._baseUrl}${path}`, options).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16\",\r\n  headers: {\r\n    authorization: \"67c1746d-dc65-4cb3-99d8-23254d14e06e\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","import { Link } from 'react-router-dom';\r\n\r\nconst Title = () => (\r\n  <p className=\"user__question\">Уже зарегистрированы? <Link className=\"user__link\" to='/sing-in'>Войти</Link></p>\r\n);\r\n\r\nexport default Title;","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport HaveAccount from './HaveAccount';\r\nimport classNames from 'classnames';\r\n\r\nfunction SignIn({texts, handleSubmit}) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const location = useLocation();\r\n  const buttonSelectors = classNames(\r\n    'user__button',\r\n    {\r\n      'user__button_type_sign-up': location.pathname === '/sign-up'\r\n    }\r\n  )\r\n  const userSelectors = classNames (\r\n    'user',\r\n    {\r\n      'user_type_sign-up': location.pathname === '/sign-up'\r\n    }\r\n  )\r\n  function onSubmit(event) {\r\n    event.preventDefault();\r\n    const userData = {\r\n      password,\r\n      email\r\n    }\r\n    handleSubmit(userData);\r\n  }\r\n\r\n  function handleEmailInput(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n  return (\r\n    <form className={userSelectors} onSubmit={onSubmit}>\r\n      <h3 className=\"user__title\">{texts.title}</h3>\r\n      <input \r\n        type=\"email\" \r\n        className=\"user__input\" \r\n        placeholder=\"Email\" \r\n        onChange={handleEmailInput} \r\n        value={email || ''} \r\n        required\r\n      />\r\n      <input \r\n        type=\"password\" \r\n        className=\"user__input\" \r\n        placeholder=\"Пароль\"\r\n        onChange={handlePasswordInput}\r\n        value={password || ''}\r\n        required\r\n      />\r\n      <button type=\"submit\" className={buttonSelectors}>{texts.buttonText}</button>\r\n      {location.pathname === '/sign-up' && <HaveAccount/>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SignIn;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, isLoggedIn, path, ...props  }) => {\r\n  return (\r\n    <Route path={path}>\r\n      {\r\n        () => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","class AuthApi {\r\n  constructor({ baseUrl, headers }) {\r\n    this._headers = headers;\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  getUserData(token) {\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`,\r\n    }\r\n    return this._fetcher(\"/users/me\", \"GET\", null, headers);\r\n  }\r\n\r\n  createUser(userData) {\r\n    return this._fetcher(\"/signup\", \"POST\", userData);\r\n  }\r\n\r\n  signInUser(userData) {\r\n    return this._fetcher(\"/signin\", \"POST\", userData);\r\n  }\r\n\r\n  _fetcher(path, method, body, headers = this._headers) {\r\n    const options = {\r\n      method: method,\r\n      headers,\r\n    };\r\n    if (body) {\r\n      options.body = JSON.stringify(body);\r\n    }\r\n    return fetch(`${this._baseUrl}${path}`, options).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n}\r\n\r\nconst authApi = new AuthApi({\r\n  baseUrl: \"https://auth.nomoreparties.co\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default authApi;","const signInTexts = {\r\n  title: 'Вход',\r\n  buttonText: 'Войти'\r\n}\r\n\r\nconst signUpTexts = {\r\n  title: 'Регистрация',\r\n  buttonText: 'Зарегистрироваться'\r\n}\r\n\r\nexport {signInTexts , signUpTexts}","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nfunction InfoTooltip({text, img, isOpened, onClose}) {\r\n  const InfoTooltipSelectors = classNames(\r\n    'popup',\r\n    'popup_type_info-tool-tip',\r\n    { \r\n      'popup_opened': isOpened\r\n    }\r\n  )  \r\n  function handleCloseBtn() {\r\n    onClose();\r\n  }\r\n  return (\r\n    <div className={InfoTooltipSelectors}>\r\n      <div className='popup__form popup__form_type_info-tool-tip'>\r\n        <button type=\"button\" className=\"popup__close-button popup__close-button_type_info-tool-tip\" onClick={handleCloseBtn}/>\r\n        <img className='popup__image popup__image_type_info-tool-tip' src={img} alt={text}/>\r\n        <p className='popup__title popup__title_type_info-tool-tip'>{text}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/success-registration.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error-registration.7c6a020b.svg\";","import React from 'react';\r\nimport { Route, Switch, useLocation, useHistory } from \"react-router-dom\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/Api'\r\nimport User from './User.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport authApi from '../utils/AuthApi.js';\r\nimport { signInTexts , signUpTexts } from '../utils/userTexts';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport successRegistrationImg from '../images/success-registration.svg';\r\nimport errorRegistrationImg from '../images/error-registration.svg';\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, toggleEditProfilePopup] = React.useState(false);\r\n  const [isAddPlacePopupOpen, toggleAddPlacePopup] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, toggleEditAvatarPopup] = React.useState(false);\r\n  const [isImagePopupOpen, toggleImagePopup] = React.useState(false);\r\n  const [selectedCard, setCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCardsArr] = React.useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [isSuccessRegistration, setIsSuccessRegistration] = React.useState(false);\r\n  const [isErrorRegistration, setIsErrorRegistration] = React.useState(false);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserData(), api.getInitialCards()])\r\n      .then((initData) => {\r\n        setCurrentUser(initData[0]);\r\n        setCardsArr(initData[1]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    getJwtFromLocal();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n\r\nfunction updateCards(upDatedCard) {\r\n  const newCards = cards.map((card) => card._id === upDatedCard._id ? upDatedCard : card);\r\n  setCardsArr(newCards);\r\n}\r\n\r\nfunction handleCardLike(card) {\r\n  const isLiked = card.likes.some( like => like._id === currentUser._id);\r\n  if (!isLiked) {\r\n    api.likeCard(card._id)\r\n    .then((likedCard) => {\r\n      updateCards(likedCard);\r\n    })    \r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  else {\r\n    api.unLikeCard(card._id)\r\n    .then((unLikedCard) => {\r\n      updateCards(unLikedCard);\r\n    })    \r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n} \r\n\r\nfunction handleCardDelete(cardForDelete) {\r\n  api.deleteCard(cardForDelete._id)\r\n  .then(() => {\r\n    const newCards = cards.filter((card) => card._id !== cardForDelete._id);\r\n    setCardsArr(newCards);\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\n  function handleUpdateUser(newUserData) {\r\n    api\r\n    .updateUserData(newUserData)\r\n    .then((userInfo) => {\r\n      setCurrentUser(userInfo);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatarLink) {\r\n    api\r\n    .updateAvatar(newAvatarLink)\r\n    .then((userInfo) => {\r\n      setCurrentUser(userInfo);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log('error:',err);\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newPlaceData) {\r\n    api\r\n    .uploadNewCard(newPlaceData)\r\n    .then((addedCard) => {\r\n      setCardsArr([addedCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log('error:',err);\r\n    })\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    toggleAddPlacePopup(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    toggleEditAvatarPopup(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    toggleEditProfilePopup(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    toggleImagePopup(false);\r\n    toggleAddPlacePopup(false); \r\n    toggleEditProfilePopup(false); \r\n    toggleEditAvatarPopup(false);\r\n  }\r\n\r\n  function handleSignInSubmit(userData) {\r\n    authApi.signInUser(userData)\r\n    .then((res) => {\r\n      if (res) {\r\n        localStorage.setItem('jwt', res.token);\r\n        getUserData(res.token);\r\n      } else {\r\n        console.log('Что-то пошло не так');\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  function handleSignUpSubmit(userData) {\r\n    authApi.createUser(userData)\r\n    .then((res) => {\r\n      if (res) {\r\n        setIsSuccessRegistration(true);\r\n      } else {\r\n        setIsErrorRegistration(true);\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      setIsErrorRegistration(true);\r\n      console.log(err);\r\n    })  \r\n  }\r\n\r\n  function closeSuccessToolTip() {\r\n    setIsSuccessRegistration(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function closeErrorToolTip() {\r\n    setIsErrorRegistration(false);\r\n  }\r\n\r\n  function getJwtFromLocal() {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      getUserData(jwt);\r\n    }\r\n  }\r\n\r\n  function getUserData(token) {\r\n    authApi.getUserData(token)\r\n    .then((res) => {\r\n      if (res) {\r\n        setUserEmail(res.data.email);\r\n        setIsLoggedIn(true);\r\n        history.push('/');\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })   \r\n  }\r\n\r\n  return (\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header isLoggedIn={isLoggedIn} setIsLoggedIn={setIsLoggedIn} userEmail={userEmail} setUserEmail={setUserEmail}/>\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <User texts={signUpTexts} handleSubmit={handleSignUpSubmit} isSuccess={isSuccessRegistration}/>\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <User texts={signInTexts} handleSubmit={handleSignInSubmit}/>\r\n            </Route>\r\n            <ProtectedRoute \r\n              path=\"/\" \r\n              isLoggedIn={isLoggedIn} \r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick} \r\n              onAddPlace={handleAddPlaceClick} \r\n              onEditAvatar={handleEditAvatarClick}\r\n              onFullImage={toggleImagePopup}\r\n              onCardClick={setCard}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n          </Switch>\r\n          {location.pathname === \"/\" && <Footer />}\r\n          <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          >\r\n          </AddPlacePopup>\r\n          <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          >\r\n          </EditProfilePopup>\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          >\r\n          </EditAvatarPopup>\r\n          <ImagePopup \r\n            card={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <InfoTooltip \r\n            text={'Вы успешно зарегистрировались!'} \r\n            img={successRegistrationImg} \r\n            isOpened={isSuccessRegistration}\r\n            onClose={closeSuccessToolTip}\r\n          />\r\n          <InfoTooltip \r\n            text={'Что-то пошло не так! \\nПопробуйте ещё раз.'} \r\n            img={errorRegistrationImg} \r\n            isOpened={isErrorRegistration}\r\n            onClose={closeErrorToolTip}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}